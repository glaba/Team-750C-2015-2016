\hypertarget{sensors_8c_source}{}\subsection{sensors.\+c}
\label{sensors_8c_source}\index{src/sensors.\+c@{src/sensors.\+c}}

\begin{DoxyCode}
00001 
00013 \textcolor{preprocessor}{#include "\hyperlink{main_8h}{main.h}"}
00014 
\hypertarget{sensors_8c_source.tex_l00018}{}\hyperlink{sensors_8h_a48ead63071a2b65b87a166928a5a5c08}{00018} Encoder \hyperlink{sensors_8c_a48ead63071a2b65b87a166928a5a5c08}{leftenc};
00019 
\hypertarget{sensors_8c_source.tex_l00023}{}\hyperlink{sensors_8h_a8c853ba918673c4878ab6935c54969e4}{00023} Encoder \hyperlink{sensors_8c_a8c853ba918673c4878ab6935c54969e4}{rightenc};
00024 
\hypertarget{sensors_8c_source.tex_l00025}{}\hyperlink{sensors_8h_ad701efe604d40c13910416224d3dd9e3}{00025} \textcolor{keywordtype}{void} \hyperlink{sensors_8c_ad701efe604d40c13910416224d3dd9e3}{rturn}(\textcolor{keywordtype}{int} bodydegs) \{
00026     \hyperlink{sensors_8h_acdacd94315ad0d5b73d99eaed29be5f5}{clearDriveEncoders}();
00027     \textcolor{keywordtype}{float} turndeg;
00028     \textcolor{keywordtype}{float} encdegperbodydeg = \hyperlink{robot_8h_a61fe90734b16253ea19fc295e0ec71dc}{DRIVE\_WHEELBASE} / (\hyperlink{robot_8h_a756d6f470dc64b6c3c004b75760d60d0}{DRIVE\_DIA} * 
      \hyperlink{robot_8h_ac82b3d02a4f4ff550895e0cb11b96219}{DRIVE\_GEARRATIO});
00029     turndeg = encdegperbodydeg * bodydegs;
00030 
00031     \textcolor{keywordflow}{while}(\hyperlink{macros_8h_a3aa069ac3980707dae1e0530f50d59e4}{abs}(encoderGet(\hyperlink{sensors_8c_a8c853ba918673c4878ab6935c54969e4}{rightenc})) < \hyperlink{macros_8h_a3aa069ac3980707dae1e0530f50d59e4}{abs}(turndeg)) \{
00032         \hyperlink{motors_8h_ae918d6900bfd9ad920597db4f3ff138f}{move}(0, \hyperlink{motors_8h_a5cf14eeff6ae0a3163b61e2abcf1c6c0}{MOTOR\_MAX});
00033         delay(20);
00034     \}
00035 
00036     \hyperlink{motors_8h_ae918d6900bfd9ad920597db4f3ff138f}{move}(0, 0);
00037     \hyperlink{sensors_8h_acdacd94315ad0d5b73d99eaed29be5f5}{clearDriveEncoders}();
00038 \}
00039 
\hypertarget{sensors_8c_source.tex_l00040}{}\hyperlink{sensors_8h_a6c61a5584d9cf1eaac994e0fb9f6b61c}{00040} \textcolor{keywordtype}{void} \hyperlink{sensors_8c_a6c61a5584d9cf1eaac994e0fb9f6b61c}{lturn}(\textcolor{keywordtype}{int} bodydegs) \{
00041     \hyperlink{sensors_8h_acdacd94315ad0d5b73d99eaed29be5f5}{clearDriveEncoders}();
00042     \textcolor{keywordtype}{float} turndeg;
00043     \textcolor{keywordtype}{float} encdegperbodydeg = \hyperlink{robot_8h_a61fe90734b16253ea19fc295e0ec71dc}{DRIVE\_WHEELBASE} / (\hyperlink{robot_8h_a756d6f470dc64b6c3c004b75760d60d0}{DRIVE\_DIA} * 
      \hyperlink{robot_8h_ac82b3d02a4f4ff550895e0cb11b96219}{DRIVE\_GEARRATIO});
00044     turndeg = encdegperbodydeg * bodydegs;
00045 
00046     \textcolor{keywordflow}{while}(\hyperlink{macros_8h_a3aa069ac3980707dae1e0530f50d59e4}{abs}(encoderGet(\hyperlink{sensors_8c_a48ead63071a2b65b87a166928a5a5c08}{leftenc})) < \hyperlink{macros_8h_a3aa069ac3980707dae1e0530f50d59e4}{abs}(turndeg)) \{
00047         \hyperlink{motors_8h_ae918d6900bfd9ad920597db4f3ff138f}{move}(0, -\hyperlink{motors_8h_a5cf14eeff6ae0a3163b61e2abcf1c6c0}{MOTOR\_MAX});
00048         delay(20);
00049     \}
00050 
00051     \hyperlink{motors_8h_ae918d6900bfd9ad920597db4f3ff138f}{move}(0, 0);
00052     \hyperlink{sensors_8h_acdacd94315ad0d5b73d99eaed29be5f5}{clearDriveEncoders}();
00053 \}
00054 
\hypertarget{sensors_8c_source.tex_l00055}{}\hyperlink{sensors_8h_aac3aa2a1f6d4df8618c2e95a99f69bd5}{00055} \textcolor{keywordtype}{void} \hyperlink{sensors_8c_aac3aa2a1f6d4df8618c2e95a99f69bd5}{goForward}(\textcolor{keywordtype}{int} inches) \{
00056     \textcolor{keywordtype}{int} deg;
00057     \textcolor{keywordtype}{float} encperinch;
00058     encperinch = 360/(\hyperlink{robot_8h_a756d6f470dc64b6c3c004b75760d60d0}{DRIVE\_DIA} * \hyperlink{constants_8h_a598a3330b3c21701223ee0ca14316eca}{PI} * \hyperlink{robot_8h_ac82b3d02a4f4ff550895e0cb11b96219}{DRIVE\_GEARRATIO});
00059     deg = encperinch * (float)inches;
00060 
00061     \hyperlink{sensors_8h_acdacd94315ad0d5b73d99eaed29be5f5}{clearDriveEncoders}();
00062     \textcolor{keywordflow}{while}(\hyperlink{macros_8h_a3aa069ac3980707dae1e0530f50d59e4}{abs}(encoderGet(\hyperlink{sensors_8c_a8c853ba918673c4878ab6935c54969e4}{rightenc})) <  \hyperlink{macros_8h_a3aa069ac3980707dae1e0530f50d59e4}{abs}(deg))
00063     \{
00064         \hyperlink{motors_8h_ae918d6900bfd9ad920597db4f3ff138f}{move}(\hyperlink{macros_8h_ac740756f75e53153605d2702b30d2a9d}{sign}(inches) * 127, 0);
00065         delay(20);
00066     \}
00067     \hyperlink{motors_8h_ae918d6900bfd9ad920597db4f3ff138f}{move}(0,0);
00068     \hyperlink{sensors_8h_acdacd94315ad0d5b73d99eaed29be5f5}{clearDriveEncoders}();
00069 \}
00070 
\hypertarget{sensors_8c_source.tex_l00071}{}\hyperlink{sensors_8h_a588c302940f0bd83c1f7f7fef3447171}{00071} \textcolor{keywordtype}{void} \hyperlink{sensors_8c_a588c302940f0bd83c1f7f7fef3447171}{goBackward}(\textcolor{keywordtype}{int} inches) \{
00072     \hyperlink{sensors_8c_aac3aa2a1f6d4df8618c2e95a99f69bd5}{goForward}(-inches);
00073 \}
00074 
\hypertarget{sensors_8c_source.tex_l00078}{}\hyperlink{sensors_8h_ad2d059cd4baeedd5fbead13085953eed}{00078} Gyro \hyperlink{sensors_8c_ad2d059cd4baeedd5fbead13085953eed}{gyro};
00079 
\hypertarget{sensors_8c_source.tex_l00083}{}\hyperlink{sensors_8h_a09e334aba0637f228c65c135f428606a}{00083} Ultrasonic \hyperlink{sensors_8c_a09e334aba0637f228c65c135f428606a}{sonar};
00084 
\hypertarget{sensors_8c_source.tex_l00088}{}\hyperlink{sensors_8h_ad0bf4fe84ad2c452b03494aa89148939}{00088} \textcolor{keywordtype}{char}* \hyperlink{sensors_8c_ad0bf4fe84ad2c452b03494aa89148939}{songs}[] = \{
00089     \textcolor{stringliteral}{"Batman:d=8,o=5,b=180:d,d,c#,c#,c,c,c#,c#,d,d,c#,c#,c,c,c#,c#,d,d#,c,c#,c,c,c#,c#,f,p,4f"},
00090     \textcolor{stringliteral}{"
      Spiderman:d=4,o=6,b=200:c,8d#,g.,p,f#,8d#,c.,p,c,8d#,g,8g#,g,f#,8d#,c.,p,f,8g#,c.7,p,a#,8g#,f.,p,c,8d#,g.,p,f#,8d#,c,p,8g#,2g,p,8f#,f#,8d#,f,8d#,2c"},
00091     \textcolor{stringliteral}{"Star
       Wars:d=8,o=6,b=180:f5,f5,f5,2a#5.,2f.,d#,d,c,2a#.,4f.,d#,d,c,2a#.,4f.,d#,d,d#,2c,4p,f5,f5,f5,2a#5.,2f.,d#,d,c,2a#.,4f.,d#,d,c,2a#.,4f.,d#,d,d#,2c"},
00092     \textcolor{stringliteral}{"Final
       Countdown:d=16,o=5,b=125:b,a,4b,4e,4p,8p,c6,b,8c6,8b,4a,4p,8p,c6,b,4c6,4e,4p,8p,a,g,8a,8g,8f#,8a,4g.,f#,g,4a.,g,a,8b,8a,8g,8f#,4e,4c6,2b.,b,c6,b,a,1b"},
00093     \textcolor{stringliteral}{"Deep Purple-Smoke on the
       Water:d=4,o=4,b=112:c,d#,f.,c,d#,8f#,f,p,c,d#,f.,d#,c,2p,8p,c,d#,f.,c,d#,8f#,f,p,c,d#,f.,d#,c"},
00094     \textcolor{stringliteral}{"Ghost Busters:d=8,o=5,b=145:16c6,32p,16c6,e6,c6,d6,a#,2p,32c6,32p,32c6,32p,c6,a#,c6"},
00095     \textcolor{stringliteral}{"Fresh Prince Of Bel Air Theme:d=4,o=5,b=112:16a, 16p, 16a, 8p, 8a, 32d7, 32d#7, 16e7, 8p, 8e7, 8p,
       32c7, 32c#7, 8d7, 16d#7, 16d7, 16p, 16c7, 16d6, 16p, 16c6, 16p, 8b, 8p, 16a, 16p, 16a, 8p, 8a6, 32d7, 32d#7,
       16e7, 8p, 8e7, 8p, 32c7, 32c#7, 8d7, 16d#7, 16d7, 16p, 16c7, 16a, 16p, 16e6, 16p, 16a, 8p, 32b, 32c6, 32b,
       32c6, 32b, 32c6, 32b, 32c6, 32b, 32c6, 32b, 32c6, 32b, 32c6, 32b, 32c6, 32b, 32c6, 32b, 32c6, 32b, 32c6, 32b,
       32c6"},
00096     \textcolor{stringliteral}{"Funky Town:d=8,o=4,b=125:c6,c6,a#5,c6,p,g5,p,g5,c6,f6,e6,c6,2p,c6,c6,a#5,c6,p,g5,p,g5,c6,f6,e6,c6"},
00097     \textcolor{stringliteral}{"
      Macarena:d=8,o=5,b=180:f,f,f,4f,f,f,f,f,f,f,f,a,c,c,4f,f,f,4f,f,f,f,f,f,f,d,c,4p,4f,f,f,4f,f,f,f,f,f,f,f,a,4p,2c.6,4a,c6,a,f,4p,2p"},
00098     \textcolor{stringliteral}{"Mission
       Impossible:d=16,o=5,b=100:32d,32d#,32d,32d#,32d,32d#,32d,32d#,32d,32d,32d#,32e,32f,32f#,32g,g,8
      p,g,8p,a#,p,c6,p,g,8p,g,8p,f,p,f#,p,g,8p,g,8p,a#,p,c6,p,g,8p,g,8p,f,p,f#,p,a#,g,2d,32p,a#,g,2c#,32p,a#,g,2c,p,a#4,c"},
00099     \textcolor{stringliteral}{"USA National
       Anthem:d=8,o=5,b=120:e.,d,4c,4e,4g,4c6.,p,e6.,d6,4c6,4e,4f#,4g.,p,4g,4e6.,d6,4c6,2b,a,4b,c6.,16p,4c6,4g,4e,32p,4c"},
00100     \textcolor{stringliteral}{"
      Bond:d=4,o=5,b=80:32p,16c#6,32d#6,32d#6,16d#6,8d#6,16c#6,16c#6,16c#6,16c#6,32e6,32e6,16e6,8e6,16d#6,16d
      #6,16d#6,16c#6,32d#6,32d#6,16d#6,8d#6,16c#6,16c#6,16c#6,16c#6,32e6,32e6,16e6,8e6,16d#6,16d6,16c#6,16c#7,c.7,16g#6,16f#6,g#.6"},
00101     \textcolor{stringliteral}{"
      GoodBad:d=4,o=5,b=56:32p,32a#,32d#6,32a#,32d#6,8a#.,16f#.,16g#.,d#,32a#,32d#6,32a#,32d#6,8a#.,16f#.,16g#.,c#6,32a#,32d#6,32a#,32d#6,8a#.,16f#.,32f.,32d#.,c#,32a#,32d#6,32a#,32d#6,8a#.,16g#.,d#"},
00102     \textcolor{stringliteral}{"
      MetalGear:d=8,o=6,b=125:4e5,4d5,2c5,d5,e5,a4,4e5,2d5,c5,d5,4e.5,a5,g5,e5,4c5,2d5,e5,a5,2c,b5,c,d,4c,2a5
      ,g5,a5,4b.5,c,4b5,a5,g5,1a5,4b5,4a5,2g5,a5,b5,e5,4b5,2a5,g5,a5,4b.5,e,d,b5,4g5,2a5,b5,e,2g,f#,g,a,4g,2e,d,e,4f#.,g,4f#,e,d,1e"},
00103     \textcolor{stringliteral}{"
      Jeopardy:d=4,o=6,b=125:c,f,c,f5,c,f,2c,c,f,c,f,a.,8g,8f,8e,8d,8c#,c,f,c,f5,c,f,2c,f.,8d,c,a#5,a5,g5,f5,
      p,d#,g#,d#,g#5,d#,g#,2d#,d#,g#,d#,g#,c.7,8a#,8g#,8g,8f,8e,d#,g#,d#,g#5,d#,g#,2d#,g#.,8f,d#,c#,c,p,a#5,p,g#.5,d#,g#"}
00104 \};
00105 
\hypertarget{sensors_8c_source.tex_l00111}{}\hyperlink{sensors_8h_ac268bd7cd4a7f4825e597fb81dfd82f5}{00111} \textcolor{keywordtype}{char}* \hyperlink{sensors_8c_ac268bd7cd4a7f4825e597fb81dfd82f5}{randsong}() \{
00112     \textcolor{keywordtype}{int} index = rand() % \hyperlink{sensors_8h_ac3e33f0dc086adda988b210eacf86312}{SONG\_COUNT};
00113     \textcolor{keywordflow}{return} \hyperlink{sensors_8c_ad0bf4fe84ad2c452b03494aa89148939}{songs}[index];
00114 \}
00115 
\hypertarget{sensors_8c_source.tex_l00121}{}\hyperlink{sensors_8c_a29754c0d165c3e366278bf93ee231e35}{00121} TaskHandle \hyperlink{sensors_8c_a29754c0d165c3e366278bf93ee231e35}{speakerTask};
00122 
\hypertarget{sensors_8c_source.tex_l00129}{}\hyperlink{sensors_8h_a44ad7c17f20379371c31ec8ba82ff03e}{00129} \textcolor{keywordtype}{void} \hyperlink{sensors_8c_a44ad7c17f20379371c31ec8ba82ff03e}{playSpeaker}(\textcolor{keywordtype}{void} *ignore)\{
00130     \textcolor{keywordtype}{char} *rtttl = \hyperlink{sensors_8c_ac268bd7cd4a7f4825e597fb81dfd82f5}{randsong}();
00131     speakerPlayRtttl(rtttl);
00132     \hyperlink{sensors_8c_a29754c0d165c3e366278bf93ee231e35}{speakerTask} = NULL;
00133 \}
\end{DoxyCode}
